(this["webpackJsonptest-frontend"]=this["webpackJsonptest-frontend"]||[]).push([[0],{81:function(e,t,a){},82:function(e,t,a){"use strict";a.r(t);var n=a(1),s=a(15),c=a.n(s),o=a(9),r=a(8),i=a(3),l=a(10),d=a(24),u=a.n(d),j=a(36),b=a(37),m=a.n(b),h=function(){var e=Object(j.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=m.a.create({baseURL:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_URL}),e.next=3,t.get();case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p={login:"[auth] login",logout:"[auth] logout",uiStartLoading:"[UI] Start loading",uiFinishLoading:"[UI] Finish loading",dasboardStartLoadingStores:"[Dashboard] Start loading stores"},g=function(){return{type:p.uiStartLoading}},O=function(){return{type:p.uiFinishLoading}},x=function(e){return{type:p.login,payload:{name:e}}},f=function(){return{type:p.logout}},v=a(19),y=a(4),N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(n.useState)(e),a=Object(o.a)(t,2),s=a[0],c=a[1],r=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e;c(t)},i=function(e){var t=e.target;c(Object(y.a)(Object(y.a)({},s),{},Object(v.a)({},t.name,t.value)))};return[s,i,r]},_=a(0),z=function(e){var t=e.history,a=Object(l.b)(),n=Object(l.c)((function(e){return e.ui})).loading,s=N({usuario:"pperez@perez.com",password:"pperezs123"}),c=Object(o.a)(s,2),r=c[0],i=c[1],d=r.usuario,u=r.password,j=function(e){e.preventDefault();var n=localStorage.getItem("lastPath")||"/";a(function(e,t){return function(a){a(g),h().then((function(n){var s=n.data.response.users.find((function(t){return t.email===e}));s&&s.password===t&&(a(x(s.name)),localStorage.setItem("user",'{"name":"'+s.name+'", "logged":true}'),a(O()))})).catch((function(e){a(O())})),a(O)}}(d,u)),t.replace(n)};return Object(_.jsxs)("div",{className:"welcome mt-primary mb-primary",children:[Object(_.jsx)("img",{id:"logo-aside-best-pizza",className:"welcome__size-logo",src:"../assets/Login-Best-Pizza.png",alt:"Logo de Best pizza"}),Object(_.jsx)("h1",{className:"mt-secondary welcome__title",children:"Bienvenido"}),Object(_.jsx)("h3",{className:"mt-third welcome__text",children:"A las mejores pizzas del pa\xeds"}),Object(_.jsxs)("div",{className:"container-inputs mt-secondary",children:[Object(_.jsx)("input",{type:"text",placeholder:"Usuario",name:"usuario",className:"input input--block input--user",autoComplete:"off",value:d,onChange:i}),Object(_.jsx)("input",{type:"password",placeholder:"Contrase\xf1a",name:"password",className:"input--block input--password mt-input",value:u,onChange:i})]}),Object(_.jsx)("a",{href:"#",className:"mt-third pointer",children:"\xbfOlvidaste tu contrase\xf1a?"}),Object(_.jsx)("button",{className:"btn__primary btn-block mt-secondary",onClick:function(e){j(e)},disabled:n,children:"Iniciar sesi\xf3n"})]})},S=function(){return Object(_.jsx)("main",{className:"auth__main",children:Object(_.jsxs)(i.d,{children:[Object(_.jsx)(i.b,{exact:!0,path:"/auth/login",component:z}),Object(_.jsx)(i.a,{to:"/auth/login"})]})})},w=a(20),I=["loggedIn","component"],L=function(e){var t=e.loggedIn,a=e.component,n=Object(w.a)(e,I);return Object(_.jsx)(i.b,Object(y.a)(Object(y.a)({},n),{},{component:function(e){return t?Object(_.jsx)(i.a,{to:"/"}):Object(_.jsx)(a,Object(y.a)({},e))}}))},E=["loggedIn","component"],T=function(e){var t=e.loggedIn,a=e.component,n=Object(w.a)(e,E);return Object(_.jsx)(i.b,Object(y.a)(Object(y.a)({},n),{},{component:function(e){return t?Object(_.jsx)(a,Object(y.a)({},e)):Object(_.jsx)(i.a,{to:"/auth/login"})}}))},P=function(){return Object(_.jsxs)("aside",{className:"relative",children:[Object(_.jsx)("img",{className:"object-fit",src:"../assets/imagebkg.png",alt:"Fondo negro de la ilustraci\xf3n"}),Object(_.jsx)("img",{className:"center-vertical-horizontal-absolute size-image-pizza absolute img-responsive ",src:"../assets/Pizza.png",alt:"Imagen de una Pizza"}),Object(_.jsx)("img",{id:"logo-best-pizza-aside",className:"absolute logo-aside img-responsive ",src:"../assets/Logo.png",alt:"Logo de Best pizza"})]})},C=a(14),k=a.n(C),q=function(e){var t=e.history,a=Object(l.b)();return Object(_.jsxs)("nav",{className:"align-center-right",children:[Object(_.jsx)("img",{className:"img_responsive size-icon-logout",src:"../assets/ic_contrasena.png",alt:"\xedcono candado"}),Object(_.jsx)("span",{className:"text-logout pointer",onClick:function(){a((function(e){localStorage.setItem("user",'{"name":"","logged":false}'),e(f())})),t.replace("/auth/login")},children:"Salir"})]})},R=function(e){var t=e.route;return Object(_.jsx)("span",{className:"route-navigation",children:t})},D=function(e){var t=e.title,a=e.myStyle,n=void 0===a?"":a;return Object(_.jsx)("h1",{className:" ".concat(n),children:t})},B=function(e){var t=e.description,a=e.myStyle,n=void 0===a?"":a;return Object(_.jsx)("div",{className:"description-page ".concat(n),children:t})},F=function(e){var t=e.itemStore,a=e.history,n=k.a.parse(a.location.search),s=n.q?"q=".concat(n.q,"&"):"";return Object(_.jsxs)(r.b,{to:"/search?".concat(s,"id=").concat(t.id,"&show=true"),className:"container-item-store pointer animate__bounceIn",children:[Object(_.jsx)("div",{className:"item-store",children:Object(_.jsx)("img",{className:"img-item-store",src:"../assets/store/store-".concat(t.id,".png"),alt:"Logo pizza"})}),Object(_.jsxs)("div",{className:"flex-column",children:[Object(_.jsx)("span",{className:"title-item-store",children:t.name}),Object(_.jsx)("span",{className:"addres-item-store",children:t.address})]})]})},U=function(e){var t=e.stores,a=e.history;return Object(_.jsx)("div",{className:"grid-shop mt-secondary",children:t&&t.map((function(e){return Object(_.jsx)(F,{itemStore:e,history:a},"itemStore".concat(e.id))}))})},J=function(){return Object(_.jsxs)("footer",{className:"space-between align-center",children:[Object(_.jsxs)("div",{children:[Object(_.jsx)("a",{href:"https://facebook.com",target:"_blank",rel:"noreferrer",children:Object(_.jsx)("img",{className:"footer__icons img-responsive pointer",src:"../assets/logo-facebook.png",alt:"Logo best pizza blanco"})}),Object(_.jsx)("a",{href:"https://instagram.com",target:"_blank",rel:"noreferrer",children:Object(_.jsx)("img",{className:"footer__icons img-responsive pointer",src:"../assets/logo-instagram.png",alt:"Logo best pizza blanco"})})]}),Object(_.jsx)(r.b,{to:"/",children:Object(_.jsx)("img",{className:"footer__icons img-responsive pointer",src:"../assets/logo-best-pizza-white.png",alt:"Logo best pizza blanco"})})]})},A=function(e){var t=e.history,a=e.searchText,n=e.handleInputChange;return Object(_.jsxs)("form",{onSubmit:function(e){e.preventDefault(),localStorage.setItem("lastPath",JSON.stringify("?q=".concat(a))),t.push("?q=".concat(a))},children:[Object(_.jsx)("input",{type:"text",className:"input-search input--block mt-third",placeholder:"Buscar una tienda",name:"searchText",value:a,onChange:n,onKeyUp:function(e){e.preventDefault(),""===e.target.value&&t.push("/")}}),Object(_.jsx)("button",{id:"btn_search",type:"submit",className:"btn__primary btn-block btn-responsive",children:"Buscar"})]})},K=function(e){return{type:p.dasboardStartLoadingStores,payload:{stores:e}}},H=function(e){var t=e.itemPizza;return Object(_.jsxs)("div",{className:"container-item-store container-item-store--without-hover pointer animate__bounceIn",children:[Object(_.jsx)("div",{className:"item-store",children:Object(_.jsx)("img",{className:"img-item-store",src:"../assets/pizzas/pizza-".concat(t.id,".png"),alt:"Logo pizza"})}),Object(_.jsx)("div",{className:"flex-column",children:Object(_.jsx)("span",{className:"title-item-store",children:t.name})})]})},M=function(e){var t=e.pizzas;return Object(_.jsx)("div",{className:"grid-pizzas mt-third",children:t&&t.map((function(e){return Object(_.jsx)(H,{itemPizza:e},"itemPizza".concat(e.id))}))})},W=function(e){var t=e.storeToShow;return Object(_.jsxs)("div",{className:"container__modal-body",children:[Object(_.jsxs)("div",{className:"flex-column",children:[Object(_.jsx)("span",{className:"modal-body__text-description",children:t.description}),Object(_.jsx)("span",{className:"modal-body__text-description",children:t.address})]}),Object(_.jsx)(M,{pizzas:t.products})]})},V=function(e){var t=e.currentItem,a=void 0===t?1:t,n=e.storeToShow,s=e.history,c=k.a.parse(s.location.search),o=c.q?"?q=".concat(c.q):"";return Object(_.jsxs)("div",{className:"container__modal-header space-between",children:[Object(_.jsx)("h5",{className:"container__modal-header-title",children:n.name}),Object(_.jsx)("img",{className:"modal-header__logo-store",src:"../assets/store/store-".concat(a,".png"),alt:"Logo pizza"}),Object(_.jsx)(r.b,{to:"/".concat(o),className:"modal-header__close-modal pointer",children:"x"})]})},X=function(e){var t=e.show,a=void 0===t?"false":t,s=e.currentItem,r=e.stores,i=e.history,l=Object(n.useMemo)((function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return 0===e?null:t.filter((function(t){return t.id===e}))}(s,r)}),[s,r]),d=Object(o.a)(l,1)[0];return void 0!==d&&d&&0!==d.length?c.a.createPortal(Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("div",{className:"backdrop ".concat("false"===a&&"hidden")}),Object(_.jsx)("div",{className:"container ".concat("false"===a&&"hidden"),children:Object(_.jsx)("div",{className:"container__modal center-vertical-horizontal-absolute",children:Object(_.jsxs)("div",{className:"container__modal-scroll",children:[Object(_.jsx)(V,{currentItem:s,storeToShow:d,history:i}),Object(_.jsx)(W,{currentItem:s,storeToShow:d})]})})})]}),document.querySelector("#modal")):(i.replace("/"),null)},G=function(e){var t=e.history,a=Object(i.g)(),s=Object(l.b)(),c=k.a.parse(a.search),r=parseInt(void 0!==c.id&&c.id||0),d=Object(l.c)((function(e){return e})),u=d.auth,j=d.dashboard.stores,b=k.a.parse(a.search).q,m=void 0===b?"":b,p=N({searchText:m}),x=Object(o.a)(p,2),f=x[0],v=x[1],y=f.searchText;Object(n.useEffect)((function(){s((function(e){e(g),h().then((function(t){e(K(t.data.response.stores))})).catch((function(t){e(O)})),e(O)})),localStorage.setItem("user",JSON.stringify(u));var e=document.getElementById("logo-best-pizza-aside");e&&void 0!==e&&(e.style.display="block")}),[u,s]);var z=Object(n.useMemo)((function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return""===e?t:(e=e.toLocaleLowerCase(),t.filter((function(t){return t.name.toLocaleLowerCase().includes(e)})))}(m,j)}),[m,j]);return Object(_.jsxs)("div",{className:"scroll-y container-dashboard",children:[0!==r&&Object(_.jsx)(X,{show:c.show||"false",currentItem:r,stores:z,history:t}),Object(_.jsx)(q,{history:t}),Object(_.jsx)(R,{route:"Pizzer\xedas"}),Object(_.jsx)(D,{title:"Tiendas",myStyle:"mt-secondary"}),Object(_.jsx)(B,{description:"Escoge tu pizzer\xeda favorita"}),Object(_.jsx)(A,{history:t,searchText:y,handleInputChange:v}),0===z.length&&Object(_.jsx)("div",{className:"mt-third not-store-founds",children:"No se han encontrado tiendas que coincidan con la b\xfasqueda"}),Object(_.jsx)(U,{stores:z,history:t}),Object(_.jsx)(J,{})]})},Q=function(e){var t=e.location;return localStorage.setItem("lastPath",t.pathname+t.search),Object(_.jsx)(_.Fragment,{children:Object(_.jsxs)(i.d,{children:[Object(_.jsx)(i.b,{path:"/",component:G}),Object(_.jsx)(i.b,{exact:!0,path:"/search/:q",component:G}),Object(_.jsx)(i.b,{exact:!0,path:"/search/:id/:show",component:G}),Object(_.jsx)(i.b,{exact:!0,path:"/search/:q/:id/:show",component:G}),Object(_.jsx)(i.a,{to:"/"})]})})},Y=function(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e.auth})),a=t.logged,s=t.name,c=Object(n.useState)(!0),d=Object(o.a)(c,2),u=d[0],j=d[1],b=Object(n.useState)(!1),m=Object(o.a)(b,2),h=m[0],p=m[1];return Object(n.useEffect)((function(){var t=JSON.parse(localStorage.getItem("user"))||{name:"",logged:!1};a||t.logged?(e(x(s||t.name)),p(!0)):p(!1),j(!1)}),[e,j,p,a,s]),u?Object(_.jsx)("h1",{children:"Por favor espere..."}):Object(_.jsx)(r.a,{children:Object(_.jsxs)("div",{className:"grid-layaout overflow-hidden",children:[Object(_.jsx)(P,{}),Object(_.jsxs)(i.d,{children:[Object(_.jsx)(L,{path:"/auth",component:S,loggedIn:h}),Object(_.jsx)(T,{path:"/",component:Q,loggedIn:h}),Object(_.jsx)(i.a,{to:"/auth/login"})]})]})})},Z=a(17),$=a(38),ee=a(5),te=a.n(ee),ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p.login:return{name:t.payload.name,logged:!0};case p.logout:return{};default:return e}};ae.propTypes={state:te.a.object,action:te.a.object.isRequired};var ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p.dasboardStartLoadingStores:return{stores:t.payload.stores};case p.logout:return{};default:return e}};ne.propTypes={state:te.a.object,action:te.a.object.isRequired};var se={loading:!1,msgError:null},ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p.uiSetError:return Object(y.a)(Object(y.a)({},e),{},{msgError:t.payload});case p.uiRemoveError:return Object(y.a)(Object(y.a)({},e),{},{msgError:null});case p.uiStartLoading:return Object(y.a)(Object(y.a)({},e),{},{loading:!0});case p.uiFinishLoading:return Object(y.a)(Object(y.a)({},e),{},{loading:!1});default:return e}};ce.propTypes={state:te.a.object,action:te.a.object.isRequired};var oe="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Z.c,re=Object(Z.b)({auth:ae,ui:ce,dashboard:ne}),ie=Object(Z.d)(re,oe(Object(Z.a)($.a))),le=(a(81),Object(n.createContext)()),de=function(){return JSON.parse(localStorage.getItem("user"))||{name:"",logged:!1}},ue=function(){var e=Object(n.useReducer)(ae,{},de),t=Object(o.a)(e,2),a=t[0],s=t[1];return Object(n.useEffect)((function(){localStorage.setItem("user",JSON.stringify(a))}),[a]),Object(_.jsx)(l.a,{store:ie,children:Object(_.jsx)(le.Provider,{value:{user:a,dispatch:s},children:Object(_.jsx)(Y,{})})})};c.a.render(Object(_.jsx)(ue,{}),document.getElementById("root"))}},[[82,1,2]]]);
//# sourceMappingURL=main.26adb81d.chunk.js.map